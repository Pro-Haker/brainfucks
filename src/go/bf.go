package main;import("os";s"strings");func main(){f,_:=os.ReadFile(os.Args[1]);t:=[30000]byte{};r,p:=0,0;for r<len(f){c:=s.IndexByte("+-><].[,",f[r]);switch c{case 0:t[p]++;case 1:t[p]--;case 2:p++;case 3:p--;case 5:print(string(t[p]));case 7:var read[1]byte;os.Stdin.Read(read[:]);t[p]=read[0]};if c==4||c==6{if(t[p]==0&&c==4)||(t[p]!=0&&c==6){r++;continue};d:=c-5;n:=1;for n>0{r+=d;switch f[r]{case'[':n+=d;case']':n-=d}}};r++}}
